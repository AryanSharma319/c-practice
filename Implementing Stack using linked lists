#include<stdio.h>
#include<stdlib.h>

struct Node
{
    int data;
    struct Node* next;
};
struct Node *head=NULL;
struct Node *Creator(struct Node *head,int n)
{
    struct Node *temp=head;    
    for(int i=0;i<n;i++)
    {
        struct Node *newnode=malloc(sizeof(struct Node));
        printf("Enter Data:");
        scanf("%d",&newnode->data);
        newnode->next=NULL;
        newnode->next=head;
        head=newnode;
    }
    return head;
}
struct Node *Push(struct Node *head)
{
    struct Node *newnode=malloc(sizeof(struct Node));
    printf("Enter Data to be pushed:");
    scanf("%d",&newnode->data);
    newnode->next=head;
    head=newnode;
    return head;
}
struct Node *Pop(struct Node *head)
{
    struct Node *temp=head;
    if(head==NULL)
    {
        printf("Underflow\n");
        return head;
    }
    printf("Popped %d\n",temp->data);
    head=head->next;
    free(temp);
    return head;
}
void Displayer(struct Node *head)
{
    struct Node *temp=head;
    while(temp!=NULL)
    {
        printf("%d->",temp->data);
        temp=temp->next;
    }
    printf("NULL\n");
}
void main(void)
{
    int n;
    printf("Enter Number of Nodes:");
    scanf("%d",&n);
    head=Creator(head,n);
    while(1)
    {
        printf("1:Push and Display.\n2:Pop and Display.\n3:Peek.");
    int choice;
    printf("\nEnter Choice:");
    scanf("%d",&choice);
    switch(choice)
    {
        case 1:
        {
            head=Push(head);
            Displayer(head);
            break;
        }
        case 2:
        {
            head=Pop(head);
            Displayer(head);
            break;
        }
        case 3:
        {
            if(head==NULL)
            printf("Empty Stack.");
            else
            printf("Top: %d",head->data);
            break;
        }
    }
    }
}
